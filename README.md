# ğŸ™ï¸ kaiwaï¼ˆä¼šè©±ï¼‰

**å¯¾é¢ä¼šè©±ã‚’AIã§è‡ªå‹•æ–‡å­—èµ·ã“ã—ãƒ»è©±è€…åˆ†é›¢ãƒ»è¦ç´„ã™ã‚‹OSSãƒ„ãƒ¼ãƒ«**

Macã®éŒ²éŸ³ or iPhoneã®ãƒœã‚¤ã‚¹ãƒ¡ãƒ¢ã‹ã‚‰ã€è©±è€…åˆ†é›¢ä»˜ãæ–‡å­—èµ·ã“ã—ï¼‹AIè¦ç´„ã‚’Markdownã§è‡ªå‹•ç”Ÿæˆã—ã¾ã™ã€‚

---

## âœ¨ ç‰¹å¾´

| | Plaud Note Pro | kaiwa |
|---|---|---|
| **åˆæœŸè²»ç”¨** | Â¥25,900ï¼ˆãƒ‡ãƒã‚¤ã‚¹ï¼‰ | ç„¡æ–™ |
| **æœˆé¡** | Â¥900/æœˆï¼ˆAIè¦ç´„ï¼‰ | Claude API å¾“é‡èª²é‡‘ã®ã¿ï¼ˆã€œÂ¥5/å›ï¼‰ |
| **æ–‡å­—èµ·ã“ã—** | ã‚¯ãƒ©ã‚¦ãƒ‰å‡¦ç† | ãƒ­ãƒ¼ã‚«ãƒ«å‡¦ç†ï¼ˆWhisperXï¼‰ |
| **è©±è€…åˆ†é›¢** | â—‹ | â—‹ï¼ˆpyannote.audioï¼‰ |
| **è¦ç´„** | å®šå‹ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ | ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºè‡ªç”±ï¼ˆClaudeï¼‰ |
| **ãƒ‡ãƒ¼ã‚¿ç®¡ç†** | ã‚¯ãƒ©ã‚¦ãƒ‰ | å®Œå…¨ãƒ­ãƒ¼ã‚«ãƒ« |
| **ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º** | âœ• | ãƒ•ãƒ«ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ« |

## ğŸ“„ ãƒ‡ãƒ¢ â€” å‡ºåŠ›ä¾‹

```markdown
# ä¼šè©±ãƒ¡ãƒ¢ â€” 2026-02-02 15:00

## ğŸ“‹ è¦ç´„

- ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆXã®é€²æ—ã‚’å…±æœ‰ã€‚è¨­è¨ˆãƒ•ã‚§ãƒ¼ã‚ºå®Œäº†ã€å®Ÿè£…ã«ç€æ‰‹äºˆå®š
- æ¥é€±æ°´æ›œã«ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãƒ¬ãƒ“ãƒ¥ãƒ¼äºˆå®š
- **æ±ºå®šäº‹é …**: ãƒ‡ã‚¶ã‚¤ãƒ³ã¯Aæ¡ˆã§é€²è¡Œ
- **TODO**: ç”°ä¸­ã•ã‚“ â†’ APIè¨­è¨ˆæ›¸ã‚’é‡‘æ›œã¾ã§ã«å…±æœ‰

## ğŸ’¬ å…¨æ–‡ï¼ˆè©±è€…åˆ†é›¢æ¸ˆã¿ï¼‰

[00:00 â†’ 00:15] SPEAKER_00: ãã‚Œã§ã¯å§‹ã‚ã¾ã—ã‚‡ã†ã‹ã€‚ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆXã®é€²æ—ã«ã¤ã„ã¦...
[00:15 â†’ 00:32] SPEAKER_01: ã¯ã„ã€è¨­è¨ˆãƒ•ã‚§ãƒ¼ã‚ºã¯äºˆå®šé€šã‚Šå®Œäº†ã—ã¾ã—ãŸã€‚
[00:32 â†’ 00:48] SPEAKER_00: ç´ æ™´ã‚‰ã—ã„ã§ã™ã­ã€‚ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãƒ¬ãƒ“ãƒ¥ãƒ¼ã¯ã„ã¤é ƒ...
```

## ğŸ–¥ï¸ å¿…è¦ç’°å¢ƒ

- **macOS** (Apple Silicon æ¨å¥¨ â€” Intel ã§ã‚‚å‹•ä½œã—ã¾ã™)
- **Python 3.10+**
- **Homebrew**
- **ç´„ 4GB** ã®ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ï¼ˆWhisperX ãƒ¢ãƒ‡ãƒ«ç”¨ï¼‰

## ğŸ“¦ ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
# ãƒªãƒã‚¸ãƒˆãƒªã‚’ã‚¯ãƒ­ãƒ¼ãƒ³
git clone https://github.com/takayama-tigrit/kaiwa.git
cd kaiwa

# ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ï¼ˆä¾å­˜é–¢ä¿‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« + venv ä½œæˆï¼‰
chmod +x setup.sh
./setup.sh
```

`setup.sh` ãŒè¡Œã†ã“ã¨ï¼š
- `sox`, `fswatch` ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼ˆHomebrewï¼‰
- `~/.kaiwa/venv` ã« Python ä»®æƒ³ç’°å¢ƒã‚’ä½œæˆ
- WhisperX, Anthropic SDK, PyYAML ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
- `~/.kaiwa/config.yaml` ã‚’ã‚³ãƒ”ãƒ¼
- å¿…è¦ãªãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œæˆ

## âš™ï¸ åˆæœŸè¨­å®š

### 1. HuggingFace ãƒˆãƒ¼ã‚¯ãƒ³ï¼ˆå¿…é ˆï¼‰

è©±è€…åˆ†é›¢ã« [pyannote.audio](https://github.com/pyannote/pyannote-audio) ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚ä»¥ä¸‹ã®ãƒ¢ãƒ‡ãƒ«ã®åˆ©ç”¨è¦ç´„ã«åŒæ„ã—ã¦ãã ã•ã„ï¼š

- [pyannote/speaker-diarization-3.1](https://huggingface.co/pyannote/speaker-diarization-3.1)
- [pyannote/segmentation-3.0](https://huggingface.co/pyannote/segmentation-3.0)

ãƒˆãƒ¼ã‚¯ãƒ³ã‚’ Keychain ã«ä¿å­˜ï¼š

```bash
security add-generic-password -a kaiwa -s hf-token -w 'hf_YOUR_TOKEN'
```

### 2. Anthropic API ã‚­ãƒ¼ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ â€” è¦ç´„æ©Ÿèƒ½ã«å¿…è¦ï¼‰

```bash
security add-generic-password -a kaiwa -s anthropic-api-key -w 'sk-ant-YOUR_KEY'
```

> ğŸ’¡ API ã‚­ãƒ¼ã¯ macOS Keychain ã«æš—å·åŒ–ã—ã¦ä¿å­˜ã•ã‚Œã¾ã™ã€‚ç’°å¢ƒå¤‰æ•°ã‚„å¹³æ–‡ãƒ•ã‚¡ã‚¤ãƒ«ã«ã¯ä¿å­˜ã—ã¾ã›ã‚“ã€‚

## ğŸš€ ä½¿ã„æ–¹

### Mac ã§éŒ²éŸ³ã—ã¦ãã®ã¾ã¾å‡¦ç†ï¼ˆãƒ›ãƒƒãƒˆã‚­ãƒ¼ï¼‰

1. Raycast ã« `scripts/` ãƒ•ã‚©ãƒ«ãƒ€ã‚’ Script Commands ã¨ã—ã¦ç™»éŒ²
2. ãƒ›ãƒƒãƒˆã‚­ãƒ¼ã§ã€Œkaiwa éŒ²éŸ³ãƒˆã‚°ãƒ«ã€ã‚’å®Ÿè¡Œ
3. ã‚‚ã†ä¸€åº¦æŠ¼ã™ã¨éŒ²éŸ³åœæ­¢ â†’ è‡ªå‹•çš„ã«å‡¦ç†é–‹å§‹
4. å®Œäº†ã™ã‚‹ã¨ macOS é€šçŸ¥ã§ãŠçŸ¥ã‚‰ã›

### æ‰‹å‹•ã§å‡¦ç†ï¼ˆCLIï¼‰

```bash
# éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‡¦ç†
PYTHONPATH=/path/to/kaiwa/src ~/.kaiwa/venv/bin/python -m kaiwa.cli process recording.wav

# ãƒãƒ¼ã‚¸ãƒ§ãƒ³è¡¨ç¤º
PYTHONPATH=/path/to/kaiwa/src ~/.kaiwa/venv/bin/python -m kaiwa.cli version
```

### iPhone é€£æºï¼ˆiCloud è‡ªå‹•å‡¦ç†ï¼‰

1. iPhone ã®ãƒœã‚¤ã‚¹ãƒ¡ãƒ¢ã‚’ iCloud Drive ã® `Transcripts/raw/` ã«ä¿å­˜
2. `install-daemon.sh` ã§ç›£è¦–ãƒ‡ãƒ¼ãƒ¢ãƒ³ã‚’æœ‰åŠ¹åŒ–
3. ãƒ•ã‚¡ã‚¤ãƒ«ãŒåŒæœŸã•ã‚Œã‚‹ã¨è‡ªå‹•çš„ã«å‡¦ç†é–‹å§‹

```bash
# ãƒ‡ãƒ¼ãƒ¢ãƒ³ã®æœ‰åŠ¹åŒ–
./scripts/install-daemon.sh

# ãƒ‡ãƒ¼ãƒ¢ãƒ³ã®ç„¡åŠ¹åŒ–
./scripts/install-daemon.sh --uninstall
```

## ğŸ”§ è¨­å®š

è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«: `~/.kaiwa/config.yaml`

```yaml
whisper:
  model: large-v3-turbo     # WhisperX ãƒ¢ãƒ‡ãƒ«
  device: cpu                # cpu ã®ã¿å¯¾å¿œï¼ˆMPS éå¯¾å¿œï¼‰
  compute_type: float32
  language: ja
  batch_size: 8

claude:
  model: claude-3-5-haiku-latest
  max_tokens: 2048
  timeout: 120
  max_retries: 3             # API ãƒªãƒˆãƒ©ã‚¤å›æ•°

paths:
  output: ~/Transcripts      # Markdown å‡ºåŠ›å…ˆ
  raw: ~/Transcripts/raw     # éŒ²éŸ³ãƒ•ã‚¡ã‚¤ãƒ«ä¿å­˜å…ˆ
  work: ~/Transcripts/work   # ä¸­é–“æˆæœç‰©ä¿å­˜å…ˆ
  icloud_watch: ~/Library/Mobile Documents/com~apple~CloudDocs/Transcripts/raw
```

è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ãŒãªã„å ´åˆã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ãŒä½¿ç”¨ã•ã‚Œã¾ã™ã€‚

## ğŸ—ï¸ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

```
éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ« â†’ [æ¤œè¨¼] â†’ [WhisperX æ–‡å­—èµ·ã“ã—] â†’ [ã‚¢ãƒ©ã‚¤ãƒ³ãƒ¡ãƒ³ãƒˆ]
    â†’ [è©±è€…åˆ†é›¢] â†’ [Claude è¦ç´„] â†’ [Markdown å‡ºåŠ›]
```

å„ã‚¹ãƒ†ãƒƒãƒ—ã®ä¸­é–“æˆæœç‰©ã¯ `~/Transcripts/work/<recording_stem>/` ã«ä¿å­˜ã•ã‚Œã¾ã™ã€‚å‡¦ç†ãŒé€”ä¸­ã§å¤±æ•—ã—ã¦ã‚‚ã€å®Œäº†æ¸ˆã¿ã‚¹ãƒ†ãƒƒãƒ—ã®çµæœã¯æ®‹ã‚Šã¾ã™ã€‚

è©³ç´°: [docs/ARCHITECTURE.md](docs/ARCHITECTURE.md)

## â“ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

ã‚ˆãã‚ã‚‹å•é¡Œã¨è§£æ±ºç­–: [docs/TROUBLESHOOTING.md](docs/TROUBLESHOOTING.md)

**ã‚¯ã‚¤ãƒƒã‚¯ãƒã‚§ãƒƒã‚¯:**

```bash
# Keychain ã®ç¢ºèª
security find-generic-password -a kaiwa -s hf-token -w
security find-generic-password -a kaiwa -s anthropic-api-key -w

# ãƒ­ã‚°ã®ç¢ºèª
cat ~/.kaiwa/logs/$(date +%Y-%m-%d).log

# ä¸­é–“æˆæœç‰©ã®ç¢ºèª
ls ~/Transcripts/work/
```

## ğŸ“ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆ

```
~/.kaiwa/
â”œâ”€â”€ config.yaml       # è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«
â”œâ”€â”€ venv/             # Python ä»®æƒ³ç’°å¢ƒ
â”œâ”€â”€ logs/             # ãƒ­ã‚°ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆæ—¥æ¬¡ï¼‰
â”œâ”€â”€ processed.log     # å‡¦ç†æ¸ˆã¿ãƒ•ã‚¡ã‚¤ãƒ«è¨˜éŒ²
â”œâ”€â”€ recording.pid     # éŒ²éŸ³ãƒ—ãƒ­ã‚»ã‚¹ PID
â””â”€â”€ current_recording.txt

~/Transcripts/
â”œâ”€â”€ *.md              # å‡ºåŠ› Markdown
â”œâ”€â”€ raw/              # éŒ²éŸ³ãƒ•ã‚¡ã‚¤ãƒ«
â””â”€â”€ work/             # ä¸­é–“æˆæœç‰©
    â””â”€â”€ <recording_stem>/
        â”œâ”€â”€ 01_transcribe.json
        â”œâ”€â”€ 02_align.json
        â””â”€â”€ 03_diarize.json
```

## ğŸ“„ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

[MIT License](LICENSE) â€” Copyright (c) 2026 takayama-tigrit

## ğŸ™ è¬è¾

- [WhisperX](https://github.com/m-bain/whisperX) â€” é«˜ç²¾åº¦ãªæ–‡å­—èµ·ã“ã— + è©±è€…åˆ†é›¢çµ±åˆ
- [pyannote.audio](https://github.com/pyannote/pyannote-audio) â€” è©±è€…åˆ†é›¢ã‚¨ãƒ³ã‚¸ãƒ³
- [Anthropic Claude](https://www.anthropic.com/) â€” AI è¦ç´„
- [sox](https://sox.sourceforge.net/) â€” éŒ²éŸ³
- [fswatch](https://github.com/emcrisostomo/fswatch) â€” ãƒ•ã‚¡ã‚¤ãƒ«ç›£è¦–
